\section{Representations of finite groups}
In this report $\F_q$ indicates the finite field with $q=p^r$ elements, where $p$ is a prime and $r$ is an integer greater then zero.

Here we are interested in doing Fourier analysis on some subgroups of the \emph{General linear group}, which is defined below. 
\begin{defn}
The {\it General Linear group} of dimension $n$ over the field $\F_q$ is the group of $n\times n$ invertible matrices with entries in $\F_q$:
\begin{equation*}
\GL(n,\F_q)=\Big\{ A \in \F_q^{n \times n} \colon \det A = \abs A\neq 0 \Big\}.
\end{equation*}	
\end{defn}
In particular we will focus on $GL(2,\F_q)$ and on its subgroup $\Aff(q)$, \emph{i.e.}, the \emph{Affine group}:
\begin{defn}
The {\emph{ Affine group}} of dimension two over the field $\F_q$ is:
\begin{equation}
\label{def:aff_group}
\Aff (q)=\Big\{ A=\begin{pmatrix} a & b \\ 0 & 1 \end{pmatrix}\in \GL(2,\F_q) \Big\}=\Big\{ A=\begin{pmatrix} a & b \\ 0 & 1 \end{pmatrix} \colon a,b \in \F_q, \, a \neq 0 \Big \}.
\end{equation}
\end{defn}
Since we want to do Fourier analysis on these groups, first of all we must map them (homomorphically) into groups of complex matrices. To do that we need to introduce the concept of representation of a finite group $G$.

\begin{defn}
A (finite dimensional) representation of a finite group $G$ is a group homomorphism
\[
\pi:  G \rightarrow \GL(n,\C).
\]
If, for $g\in G$, $\pi(g)$ is a matrix with $i,j$ entry $\pi_{i,j}(g)$, we call the functions $\pi_{i,j} : G \rightarrow \C$ the \emph{matrix entries} of $\pi$.
\end{defn}
\begin{rem}
We can identify $\GL(n,\C)$ and
\[
\GL(V)=\{T\colon V\rightarrow V \ | \  T \text{ is linear and invertible}\},
\]
where $V$ is an $n$-dimensional vector space over $\C$. However notice that in this case the matrix entries $\pi_{i,j}$ change if we change the basis of $V$ and this can cause some issue. In any case, will use the two concepts interchangeably.
\end{rem}

We give now some important definition about representations. In all the following $G$ indicates a finite group.
\begin{defn}
\label{equiv:repres}
To representations $\alpha$ and $\beta$ of $G$ into $\GL(n,\C)$ are said to be \emph{equivalent}
if there exists a matrix $T \in \GL(n,\C)$ such that
\[
T\alpha(g)T^{-1}=\beta(g), \quad \forall g \in G.
\]
This is equivalent to say that we can obtain one representation from the other by a uniform change of basis.
\end{defn}

\begin{defn}
\label{def:unitary}
A \emph{unitary} representation is a representation $\pi$ which maps $G$ into the unitary group $\U(n)$, where 
\[
\U(n) =\{A\in \GL(n,\C) \colon {}^{t}\!\bar{A}A=I\},
\]
where ${}^{t}\!\bar{A}$ is the transpose conjugate matrix of $A$.
\end{defn}
\begin{rem}
If $\Braket{u, \, v} = {}^t\!\bar{u}v$ is the standard Hermitian inner product of vectors of $\C^{n}$, the unitary matrices are those which preserve this product, that is, $\Braket{Au, \, Av} =\Braket{u, \, v} \ \forall u,v \in \C^{n}$.
Indeed, if $A \in \U(n)$, then by the definition of the inner product, we have $\Braket{Au, \, Av}={}^{t}\!\overline{(Au)}Av={}^t\!\bar{u}{}^t\!\bar{A}Av={}^t\!\bar{u}v=\Braket{u,\, v} \ \forall u,v \in \C^{n}$ and vice versa if $\Braket{Au, \, Av} =\Braket{u, \, v} \ \forall u,v \in \C^{n}$ then, by taking $u_i=(0,\dots ,0, 1, 0,\dots , 0)$ where the $1$ is in the $i$-$th$ coordinate, we see that, indicating with $a_i$ the $i$-$th$ column of $A$, $\delta_{i,j}=\langle u_i, \, u_j\rangle =\langle Au_i, \, Au_j\rangle={}^t\!\bar{a_i}a_j$, that is ${}^{t}\!\bar{A}A=I$.
\end{rem}
\begin{defn}
A \emph{subrepresentation} $\rho$ of a representation $\pi\colon G \rightarrow \GL(V)$ means that $\rho\colon G \rightarrow \GL(W)$, where $W$ is a subspace of $V$ such that $\pi(g)W\subset W \text{ for all }g \in G$ and $\rho(g)$ is the restriction of $\pi(g)$ to $W$, \emph{i.e.},
\[
\pi(g)_{\mkern 1mu \vrule height 2ex\mkern2mu W}= \rho(g)\ \forall g \in G.
\]
Using matrix language, this means that there is a basis of $V$ such that $\pi(g)$ has the block form:
\[
\begin{pmatrix}
\rho(g) & \ast \ \\
0 & \ast \
\end{pmatrix}
\]
\end{defn}
\begin{defn}
A representation  $\pi$ is \emph{irreducible} if its only subrepresentations are $\pi$ itself and 0.
\end{defn}
When we deal with representations of a finite group $G$, we can just consider the unitary ones, due to the following result:
\begin{prop}
\label{unit:eqiv}
If $G$ is a finite group, every representation is equivalent to a unitary representation.
\end{prop}
\begin{proof}[Proof sketch.]
To prove this preposition we'll use the fact (which we aren't going to prove) that if a matrix $M$ leaves invariant some positive definite, Hermitian inner product $c(u,v)$ for $u,v \in \C^n$, then $M$ is conjugate to a unitary matrix.
So it suffices to find an inner product which is invariant under $\pi(g)$ for all $g \in G$. Such a inner product is given by 
\[
c(u,v)= \sum_{g \in G} \Braket{ \pi(g)u, \pi(g)v } , \text{ for } u,v \in \C^n,
\]
as one can easily check.
%Indeed, for $h\in G$, $u,v\in \C^n$, we have
%
%\[
%\begin{split}
%c(\pi(h)u,\pi(h)v) &= \sum_{g \in G} \Braket{ \pi(g)\pi(h)u, \pi(g)\pi(h)v } \\
%&=\sum_{g \in G} \Braket{ \pi(gh)u, \pi(gh)v } \\
%&=\sum_{k \in G} \Braket{ \pi(k)u, \pi(k)v }= c(u,v).\\
%\end{split}
%\]

%Where we have made the substitution $gh=k$, so that if $h$ runs through all the elements in $G$, so does $k$. 
\end{proof}
Let us now introduce  the space of functions from $G$ to $\C$ 
\begin{equation*}
\LL^2(G)=\Set{f\colon G \rightarrow \C},
\end{equation*}
which is a vector space over $\C$ of dimension $\abs G$ (it is isomorphic to $\C^n$, with $n=\abs G$).
We can make $\LL^2(G)$ an algebra by defining the \emph{convolution} $a\ast b$, for $a,b\in \LL^2(G)$, $x\in G$:
\begin{equation*}
(a\ast b)(x)=\sum_{t \in G} a(xt^{-1})b(t)=\sum_{y \in G} a(y)b(y^{-1}x).
\end{equation*}
\begin{rem}
This definition of convolution coincides with that given for the commutative group $\Z/{n\Z}$ ($(a\ast b)(x)=\sum_{y \in \Z/{n\Z}} a(y)b(x-y)$). 
Moreover we have that, given $f\in \LL^2(G)$,
\begin{equation}
\label{conv:comm}
f*h=h*f \quad \forall h \in \LL^2(G)
\end{equation}

if and only if $f$ is constant on conjugacy classes
\[
\Set{g}=\Set{xgx^{-1}\colon x\in G}.
\]
Indeed if $f$ is constant on conjugacy classes, then for all $x\in G$
%\[
\begin{multline*}
(f\ast h)(x) =\sum_{t \in G} f(xt^{-1})h(t)=\sum_{xt \in G} f(x(xt)^{-1})h(xt)\\
=\sum_{xt \in G} f(xt^{-1}x^{-1})h(xt)
=\sum_{xt \in G} f(t^{-1})h(xt)
=\sum_{y \in G} f(y^{-1}x)h(y)= (h*f)(x),
\end{multline*}
%\]
and, conversely, if \ref{conv:comm} holds, then, taking $h=\delta_k$, for $k\in G$, we have that $(f\ast h)(ky)=f(kyk^{-1})$ and $(h*f)(ky)=f(y)$ for all $y \in G$, so that $f$ is constant on conjugacy classes.
Since if $G$ is commutative the conjugacy class $\{g\}$ contains only $g$, it follows that the convolution is commutative for abelian groups, as we already know.
\end{rem}
\begin{exmp}
\label{exa:lrr}
We define the \emph{Left Regular Representation} $L$ of $G$ by 
\begin{align*}
L\colon G &\rightarrow \GL(\LL^2(G))\\
	 g&\mapsto L(g),
\end{align*}
where 
\[
[L(g)a](x)=a(g^{-1}x),
\]
for $a \in \LL^2(G)$ and $x,g \in G$.
Equivalently, we can define the \emph{right regular representation} $R$ of $G$ by
\[
[R(g)a](x)=a(xg)\quad \forall a \in \LL^2(G)\text{ and $x,g\in G$}.
\] 
We have to check that the function $L$ defined above is indeed a group representation, that is, we have to check $L(xy)=L(x)L(y)$ for all $x,y \in G$. Let's take $a \in \LL^2(G)$ and $g\in G$, then
\[ [L(xy)a](g)=a((xy)^{-1}g)=a(y^{-1}x^{-1}g)
\]
and
\[
[L(x) L(y)a](g)=[L(x)(L(y)a)](g)=[L(x)b](g)=b(x^{-1}g)=a(y^{-1}x^{-1}g),
\]
where $b=L(y)a \in \LL^2(G)$.

Fix now $g\in G$, we want to write the matrix of $L(g)$ in the basis of $\LL^2(G)$ consisting of delta functions $\delta_g(x)=1$ if $x=g$ and 0 otherwise. For all $h,x\in G$, we have $[L(g)\delta_h](x)=\delta_h(g^{-1}x)=1 \iff g^{-1}x=h \iff x=gh$, so that $L(g)\delta_h=\delta_{gh}$. Thus if we write $G=\{g_1,g_2,\dots , g_n\}$ we have that the $j$-th column of $L(g)$ is $([L(g)\delta_{g_j}](g_1),\dots , [L(g)\delta_{g_j}](g_n))=(\delta_{gg_j}(g_1),\dots \delta_{gg_j}(g_n))$, but then we have $\delta_{gg_j}(g_i)=1\iff g_i=gg_j\iff g=g_ig_j^{-1}$ and so we can conclude that the $i,j$ entry of $L(g)$ is $\delta_{g_ig_j^{-1}}(g)$. This means that in every row and in every column of $L(g)$ there is only one entry equal to 1 and all the others are zero. So $L(g)$ is obtained from the identity matrix by a permutation of its rows (or columns). Note that if $g$ is not the identity element $e$ of $G$, then $L(g)_{ii}=\delta_{g_ig_i^{-1}}(g)=\delta_{e}(g)=0$.
\end{exmp}

Now we want to decompose a representation $\pi$ of $G$ into irreducible part, \textit{i.e.}, considering $\pi$ as a matrix, we want to replace $\pi$ by a matrix which has diagonal blocks that cannot be further decomposed. This is achieved by the following proposition.
Note that by \ref{unit:eqiv} we can assume all representations are unitary.
\begin{prop}[Complete Reducibility Theorem]~ 
\label{thm:complred}
\begin{enumerate}
\item Suppose that $\rho\colon G\rightarrow \U(m)$ is a subrepresentation of the representation $\pi\colon G\rightarrow \U(n)$. Then $\pi$ is equivalent to the representation with block diagonal form:
\[(\rho \oplus \sigma)(g)=
\begin{pmatrix}
\rho(g) & 0 \\
0 		& \sigma(g)
\end{pmatrix}.
\]
\item By induction, $\pi(g)$ is equivalent to
\[
(\pi_1\oplus\dots \oplus \pi_r)(g)= 
\begin{pmatrix}
\pi_1(g)  &{} &0\\
{} &\ddots &{} \\
0 &{}  &\pi_r(g)
\end{pmatrix},
\]
where each subrepresentation $\pi_i$  is irreducible. We say, when this happens, that $\pi$ is \emph{completely reducible}. 
\end{enumerate}
\end{prop}
\begin{proof}~ 
\begin{enumerate}
\item We know that, by the remark after definition \ref{def:unitary}, if $\pi(g)$ is unitary then it leaves invariant the standard inner product $\braket{u,\, v}={}^t\!\bar{u}v$ for $u,v \in \C^n$. Moreover, since $\rho$ is a subrepresentation of $\pi$, by definition there is a subspace $W$ of $V=\C^n$ such that, for all $g\in G$, $\pi(g)W\subset W$ and $\pi(g)_{\mkern 1mu \vrule height 2ex\mkern2mu W}= \rho(g)$.  Consider the \emph{orthogonal complement space} $W^\perp$ of $W$:
\[
W^{\perp}= \Set{v \in V \colon \braket{u, \, v}=0 \text{ for all } w \in W}.
\]
Then we claim that $\pi(g)W^{\perp}\subset W^{\perp}$. Indeed, take $w\in W^{\perp}$, then, for all $v\in W$, we can write (since $\pi(g) \in \GL(n,\C)$) $v=\pi(g)v'$, where $v'=\pi(g)^{-1}v=\pi(g^{-1})v \in W$. Then we have 
\[
\braket{\pi(g)w,\, v}=\braket{\pi(g)w,\, \pi(g)v'}=\braket{w,\, v'}=0.
\]
And so $\pi(g)w\in W^{\perp}$. This means that the restriction $\pi(g)_{\mkern 1mu \vrule height 2ex\mkern2mu W^{\perp}}= \sigma(g)$ is a subrepresentation of $\pi$.  Then, since we are working in $\C^n$, we can just take a basis of $V$ consisting in a combination of a basis of $W$ and a basis of $W^{\perp}$. If we write $\pi(g)$ in this basis we obtain exactly the matrix given in the statement of the proposition.
\item This follows easily by induction on $n$.
\end{enumerate}
\end{proof}

The next lemma, due to Issai Schur, is crucial to do Fourier analysis on finite groups.

\begin{lemma}[Schur's Lemma].
Suppose that $\pi\colon G\rightarrow \GL(V)$ and $\rho\colon G\rightarrow \GL(W)$ are representations of $G$. We define the space $\I(\pi,\rho)$ of the \emph{intertwining operators} between $\pi$ and $\rho$ as follows
\[
\I(\pi,\rho)=\Set{L\colon V\rightarrow W | L \text{ is linear and } L\circ \pi(g)= \rho(g)\circ L , \ \forall g\in G}.
\]
Suppose $L\in \I(\pi,\rho)$, then the following hold:
\begin{enumerate}
\item The restriction of $\pi$ to $\ker(L)$ is a subrepresentation of $\pi$ and  the restriction of $\rho$ to $\Im(L)$ is a subrepresentation of $\rho$.
\item If $\pi$ and $\rho$ are both irreducible representations and $L$ is not the null map, then $L$ is an isomorphism between $V$ and $W$ (and so $\pi$ and $\rho$ are equivalent).
\item If $\pi$ is irreducible and $L\in \I(\pi,\pi)$,  then $\exists \lambda \in \C$ such that $Lv=\lambda v$, for all $v\in V$, \emph{i.e.}, $L=\lambda I$, where $I$ is the identity operator.
\item If both $\pi$ and $\rho$ are irreducible, then 
\[
\dim_\C\I(\pi, \rho)=
\begin{cases}
1 &\text{if $\pi$ and $\rho$ are equivalent,} \\
0 &\text{otherwise.}
\end{cases}
\]
\end{enumerate}
\end{lemma}
\begin{proof}~ 
\begin{enumerate}
\item Let $v \in \ker(L)$, then 
\[
L(\pi(g)v)=\rho(g)(Lv)=\rho(g)0=0, \quad \forall g\in G,
\]
so that $\pi(g)v\in \ker(L)$.

Analogously if $w \in \Im(L)$, then $w=Lv$ for some $v\in V$, thus
\[
\rho(g)w=\rho(g)(Lv)=L(\pi(g)v)\in \Im(L), \quad \forall g\in G.
\]


\item Since $L\neq 0$, we have $\ker(L)\neq V$, so by 1. and the fact that $\pi$ is irreducible, this means $\ker(L)=\{0\}$. Analogously, since $L\neq 0$, we have $\Im(L)\neq 0$, that is, using again 1. and the fact that $\rho$ is irreducible, $\Im(L)=W$. So $L$ is bijective.
\item Since we are working on $\C$, there exist a root $\lambda$ of $\det(xI-L)$, that is, an eigenvalue of $L$. Denote with $V_\lambda$ the eigenspace corresponding to the eigenvalue $\lambda$:
\[
V_\lambda=\Set{v\in v \colon Lv=\lambda v}\neq \{0\}.
\] 
Then $\pi(g)(V_\lambda)\subset V_\lambda$, since, for $v\in V_\lambda$, $L(\pi(g)v)=\pi(g)(Lv)=\pi(g)(\lambda  v)=\lambda\pi(g) v$, and so $\pi(g)v\in V_\lambda$. This means that the restriction of $\pi$ to $V_\lambda$ is a subrepresentation of $\pi$, which is irreducible, thus $V_\lambda = V$ and this implies $L=\lambda I$ on $V$. 
\item Since every $\I(\pi,\rho)\ni L\neq 0$ is an isomorphism between $V$ and $W$ by point 2., if $\pi$ and $\rho$ are not equivalent, such an isomorphism cannot exist, and so $\I(\pi,\rho)=\{0\}$. Assume then that $\pi$ and $\rho$ are equivalent and consider $K,L\neq 0$ in  $\I(\pi,\rho)$. By point 2. $L$ is an isomorphism, so we can consider the map $M=L^{-1} \circ K\colon V\rightarrow V$. Since both $K$ and $L$ (and so $L^{-1}$) are nonnull, $M$ is a nonzero element of $\I(\pi,\pi)$. Then by 3. we have that there exists $0\neq \mu\in \C$ such that $M=\mu I$, \emph{i.e.} $K=\mu L$ and the dimension of $\I(\pi,\rho)$ is 1.
\end{enumerate}

\end{proof}
\begin{defn}
Let $\pi\colon G \rightarrow \GL(V)$ be a representation. We define the \emph{degree} $d_{\pi}$ (or dimension) of $\pi$ to be the dimension of the vector space $V$.
\end{defn}
\begin{cor}
Every irreducible representation of an abelian group $G$ must have degree 1.
\end{cor}
\begin{proof}
See \cite[p. 249]{terras_1999}.
\end{proof}
To do Fourier analysis on a finite group $G$ we will need a list of all inequivalent representation of $G$.

\begin{defn}
Let $G$ be a finite group, we denote with $\hat{G}$ a complete set of irreducible unitary representation of $G$.
\end{defn}
\begin{rem}
Note that every two one-dimensional representations must be inequivalent. This is because if $\pi$ is one-dimensional, then $\pi(G)$ is an element of $\C$ and so if $\rho$ is an equivalent representation, then by definition \ref{equiv:repres}, there exists $T\in \C$ such that $\rho(g)=T\pi(g) T^{-1} = TT^{-1}\pi(g)=\pi(g)$, for all $g\in G$.
\end{rem}
\begin{exmp}
\label{exa:characters}
$G=\Z/n\Z$ under addition modulo $n$.

In this case we have that $e_a\colon G\rightarrow \C$ defined by, $e_a(x)=\exp(2\pi iax/n)$ for $a,x\in G$ are one-dimensional representation of $G$ (because $e_{a+b}=e_a\cdot e_b$), also called \emph{characters} of $G$. We will see that $\hat{G}=\{e_a\colon a \in G\}$. 
\end{exmp}
\begin{defn}
Given a representation $\pi$ of $G$ we define the \emph{character} of $\pi$ as $\chi_\pi(g)=\text{Tr}(\pi(g))$, for all $g \in G$, where Tr($\pi(g)$) is the trace of the matrix $\pi(g)$.
\end{defn}
\begin{rem}
Note that $\chi_\pi(g)\colon G\rightarrow \C$, so if $\pi$ is one-dimensional, its character coincides with $\pi$ itself. Moreover, by definition we have $\chi_{\pi\oplus\rho}=\chi_{\pi} + \chi_\rho$.
\end{rem}
\begin{theorem}[Schur's Orthogonality Relations]~ 
\label{thm:schurel}
\begin{enumerate}
\item Suppose $\pi\colon G\rightarrow \U(n)$ and $\rho\colon G\rightarrow \U(m)$ are two inequivalent irreducible unitary representations of $G$. Then, using the standard inner product of $\LL^2(G)$, we have that the matrix entries of $\pi$ and $\rho$ are pairwise orthogonal:
\[
\braket{\pi_{ij},\, \rho_{rs}}=\sum_{g\in G}\pi_{ij}(g)\overline{\rho_{rs}(g)}=0, \quad \text{for all $i,j,r,s.$}
\]
\item if $\pi$ is as above, then 
\[
\braket{\pi_{ij},\, \pi_{rs}}=\frac{\abs G}{d_\pi}\delta_{ir}\delta_{js}.
\]
\item Let $\pi$ and $\rho$ be two irreducible unitary representations of $G$. Then the characters of $\pi$ and $\rho$ are also orthogonal, in particular we have:
\[
\braket{\chi_\pi,\, \chi_\rho}=
\begin{cases}
0 &\text{if $\pi$ and $\rho$ are inequivalent} \\
\abs G &\text{otherwise}.
\end{cases}
\]
\end{enumerate}
\end{theorem}
\begin{proof}~ 
\begin{enumerate}
\item Consider an $n\times m$ complex matrix $C$, then define
\begin{equation*}
P=\sum_{g\in G}\pi(g)C\rho(g^{-1}),
\end{equation*}
which is also an $n\times m$ matrix. We have that $P\in \I(\pi, \, \rho)$, since
\[
\pi(g)P=\sum_{g \in G}\pi(hg)C\rho(g^{-1})=\sum_{u\in G}\pi(u)C\rho(u^{-1}h)=P\rho(h).
\]
were we have made the substitution $u=hg$ and  used the fact that both $\pi$ and $\rho$ are homomorphism. For point 2. of Schur's lemma we must have (since $\pi$ and $\rho$ are inequivalent) $P=0$. Now choose $C=E_{js}$, the matrix which is 1 in the $j,s$ entry and 0 elsewhere. This choice of $C$ forces the $i,r$ entry of $P$ to be 
\[
P_{ir}=\sum_{g\in G}\pi_{ij}\overline{\rho_{rs}(g)}=0.
\]
\item Analogously to the previous point we define 
\begin{equation}
\label{P:equation}
P=\sum_{g\in G}\pi(g)C\pi(g^{-1}), \quad \text{for any $n\times n$ matrix $C$.}
\end{equation}

By 3. of Schur's lemma, we have $P=\lambda_CI$, for some $\lambda_C\in \C$. Then, taking the trace in \ref{P:equation} we obtain
\[
\text{$\sum_{g\in G}$Tr$(C)=$Tr$(P)=$Tr$(\lambda_CI)=\lambda_C$Tr$(I)=\lambda_C\sum_{i=1}^n 1=\lambda_Cn=\lambda_Cd_\pi.$}
\]  
Where we have used the facts that the trace is linear and it satisfies the \emph{cyclic property} (for all $A,B,C$ matrices we have Tr$(ABC)=$Tr$(BCA)$). So we obtain $\lambda_C=\abs G \text{Tr$(C)d_\pi^{-1}$}$. Now we set $C=E_{js}$, as before, and obtain 
\[
\braket{\pi_{ij},\, \pi_{rs}}=\sum_{g\in G}\pi_{ij}(g)\overline{\pi_{rs}(g)}=P_{ir}=\frac{\abs G}{d_\pi}\delta_{ir}\delta_{js}.
\]
\item This follows from the previous points. Indeed if $\pi$ and $\rho$ are inequivalent, then by 1. and the definition of character we have
\[
\braket{\chi_\pi,\, \chi_\rho}=\braket{\sum_{i=1}^n\pi_{ii},\, \sum_{j=1}^n\rho_{jj} }=\sum_{i,j}\braket{\pi_{ii},\, \rho_{jj} }=0
\]
If $\rho$ and $\pi$ are equivalent, we can assume $\rho=\pi$. Indeed if $\rho$ and $\pi$ are two equivalent representations of $G$, then there exist  an invertible matrix $T$ such that $\pi(g)=T\rho(g)T^{-1}$, for all $g\in G$. Thus by definition of character and by the cyclic property of the trace we have, for all $g\in G$, $\chi_\pi(g)=$Tr$(\pi(g))=$Tr$(T\rho(g)T^{-1})=$Tr$(T^{-1}T\rho(g))= $Tr$(\rho(g))=\chi_\rho(g)$. Then by 2. we have
\[
\begin{split}
\braket{\chi_\pi,\, \chi_\rho}=\braket{\chi_\pi,\, \chi_\pi}&=\braket{\sum_{i=1}^n\pi_{ii},\, \sum_{j=1}^n\pi_{jj} }=\sum_{i,j}\braket{\pi_{ii},\, \pi_{jj} }\\
&=\sum_{i}\braket{\pi_{ii},\, \pi_{ii} }=d_\pi\cdot\frac{\abs G}{d_\pi}=\abs G.
\end{split}
\]
\end{enumerate}
\end{proof}
The next theorem, which we state without proof (but it follows easily from theorems \ref{thm:complred} and \ref{thm:schurel}), is a version of the previous one in the case when $\pi$ and $\rho$ are not irreducible.
\begin{theorem}
\label{thm:non_irreducible_rel}
Suppose $\pi$ and $\rho$ are two representation of $G$ and that we have the following decompositions:
\[
\pi\cong n_1\pi_1\oplus\cdots n_r\pi_r\text{ and $\rho=m_1\rho_1\oplus\cdots m_r\rho_r,$}
\]
where the $n_i$ and $m_j$ are nonnegative integers and $\pi_i$ are irreducible. Then the following formulas hold:
\begin{enumerate}
\item $\braket{\chi_\pi,\, \chi_\rho}=\abs G \sum_{j=1}^rn_jm_j$,
\item $ \dim_\C\I(\pi, \, \rho)={\abs G}^{-1}\braket{\chi_\pi,\, \chi_\rho}.$
\end{enumerate}
\end{theorem}
\begin{cor}~ 
\begin{enumerate}
\item Two representations are equivalent if and only if they have the same character.
\item There are only a finite number of inequivalent irreducible unitary representations of a finite group $G$.
\item $\braket{\chi_\pi,\, \chi_\pi}=\abs{G}$ if and only if $\pi$ is irreducible.
\end{enumerate}
\end{cor}
\begin{proof}~
\begin{enumerate}
\item One implication has been already noted in part 3. of theorem \ref{thm:schurel}. 
%\item If $\rho$ and $\pi$ are two equivalent representations of $G$, then there exist  an invertible matrix $T$ such that $\pi(g)=T\rho(g)T^{-1}$, for all $g\in G$. Thus by definition of character and by the cyclic property of the norm we have, for all $g\in G$, $\chi_\pi(g)=$Tr$(\pi(g))=$Tr$(T\rho(g)T^{-1})=$Tr$(T^{-1}T\rho(g))= \\
%$Tr$(\rho(g))=\chi_\rho(g)$.
For the  other one, if $\chi_\pi=\chi_\rho$ then $\braket{\chi_\pi,\, \chi_\rho}=\braket{\chi_\pi,\, \chi_\pi} \neq 0$ and so by part 3. of theorem \ref{thm:schurel} $\pi$ and $\rho$ must be equivalent.
\item  This  follows  from  the orthogonality  of  the matrix  entries  since $\LL^{2}(G)$ is a finite-dimensional inner product  space when $G$ is finite.
\item If $\pi$ is irreducible, this is just 3. of theorem \ref{thm:schurel}. If $\pi$ is not irreducible then in 1. of theorem \ref{thm:non_irreducible_rel} $\sum_{j=1}^rn_jm_j\geq 2$, and so  $\braket{\chi_\pi,\, \chi_\pi}>\abs{G}$ .
\end{enumerate}

\end{proof}
From the preceding corollary we see that the characters are extremely important. But they do not give us the complete  story  of Fourier  analysis on a finite
group $G$. Indeed there is not an algorithm for writing down the matrix entries  of $\pi$ from $\chi_\pi$.
The importance of characters is also emphasized by the fact that they are used also by other disciplines then mathematics (physics, chemistry, and so on).

\begin{defn}
The \emph{character table} of $G$ is a matrix with column indexed by conjugacy classes $\{g\}$ of $G$ and rows indexed by inequivalent, irreducible, unitary representations $\pi \in \hat{G}$. The entry of   the character table corresponding to $\pi$ and $\{g\}$ is $\chi_\pi(g)$.
\end{defn}
\begin{rem}
The definition is well posed because the characters are constant on conjugacy classes, indeed for $x,g\in G$ we have, given a character $\chi_\pi$, $\chi_\pi(xgx^{-1})=$Tr$(\pi(xgx^{-1}))=$Tr$(\pi(x)\pi(g)\pi(x)^{-1})=$Tr$(\pi(g))=\chi_\pi(g)$.
Where we have used again the cyclic property of the trace.
\end{rem}
\begin{exmp}[$\Z/{n\Z}$]
Since $G=\Z/{n\Z}$ is abelian, all irreducible representations  have  degree  1 (by the corollary after Schur's lemma)  and  there  are $n$ of them. Indeed in this case  the $e_a$'s of the example \ref{exa:characters}  are  distinct one-dimensional representation of $G$ and each representation coincides with its own character. Since $\abs {\Set{e_a\colon a \in G}}= n $ and $\dim(\LL^{2}(Z/{n\Z}))=n$ these are all possible characters of $\Z/{n\Z}$. Moreover, since the group is abelian, each conjugacy class contains only one element. Thus the character table is an $n\times n$ matrix with $a,b$ entry equal to  $\exp(2\pi iab/n)$, for $a,b \in \Z/{n\Z}$. So in this case the character table coincides with the matrix of the Fourier transform on  $\Z/{n\Z}$, using the usual basis of $\LL^{2}(G)$ of delta functions.	
\end{exmp}

Now we are ready to give the definition of Fourier transform on a group $G$, but , before that we prove a result about the left regular representation which will be useful later on.
\begin{lemma}
\label{lemma:lrr}
Let $L$ denote the left regular representation of $G$, then
\begin{enumerate}
\item $\displaystyle
\chi_{L}(g)=
\begin{cases}
\abs G &\text{if $g=$ the identity of $G$},\\
0	   &\text{otherwise}.
\end{cases}
$
\item Every irreducible representation $\pi \in \hat{G}$ is contained in $L$ with multiplicity $d_\pi$, the degree of $\pi$. That is, if $\hat{G}=\{\pi_1,\dots ,\pi_r\}$, $L$ is similar to a direct sum of copies of all the  $\pi_j$:
\[
L\cong d_{\pi_1}\pi_1\oplus\dots\oplus d_{\pi_r}\pi_r.
\]
\item $\displaystyle\sum_{g\in G}d_{\pi}^2=\abs G.$	
\end{enumerate}
\end{lemma}  
\begin{proof}
\begin{enumerate}
\item We know by example \ref{exa:lrr} that the matrix of $L(g)$ is  is a permutation matrix (\emph{i.e.} the identity matrix with permuted rows) with $L(g)_{ii}=0 \ \forall i$ and thus its trace is 0 unless $g$ is the identity of $G$ (in such a case $L(g)=I$).
\item By theorem \ref{thm:non_irreducible_rel}, the multiplicity of $\pi$ in $L$ s found by computing the inner product  of  the  characters  of  the  two  representations  and  dividing  by $\abs G$:
\[
\frac{1}{\abs G}\braket{\chi_L,\, \chi_\pi}=\frac{1}{\abs G}\sum_{y \in G}\chi_L(y) \overline{\chi_\pi(y)}=\frac{1}{\abs G}\abs G \chi_\pi(e)=d_\pi.
\]
Here we have used $\chi_\pi(e)=\text{Tr$(I)=d_\pi$}$ and  part  a to  see that  every  term  in  the  sum is  zero  except
that coming from $y=e$, the identity of $G$.
\item Compare the degree of $L$ with the degree of the right-hand side of the formula given in 2.
 

\end{enumerate}
\end{proof}
Note that an analogous result of the above theorem is valid for the right regular representation $R$.
\begin{rem}
Suppose  that $S$  is  a  symmetric  set  of  generators  of  the finite group $G$ ($s\in S \implies s^{-1}\in S$). Consider the Cayley graph $X(G,S)$   with vertices the elements  of $G$  and edges between $x \in G$   and $xs$  for  all $s\in S$.  This is a connected undirected  graph. Then we have:
\begin{enumerate}
\item The adjacency operator $\A$ on $X(G,S)$ has the form
\[
\A f = \sum_{s\in S}R(s)f, \quad \text{where $R$ is the right regular representation of $G$} \]
This is true because we know that for a Cayley graph we have $y$ is adjacent to $x \iff y=xs$ for $s\in S$ and $[R(s)f](x)=f(xs)$.
\item Now, since by previous lemma (with $R$ instead of $L$) we have $\cong d_{\pi_1}\pi_1\oplus\dots\oplus d_{\pi_r}\pi_r$, and by point 1. $\A=\sum_{s\in S}R(s)$, it follows that $A$ is similar to a block diagonal matrix $\A\simeq \sum_{s\in S}R(s)=\sum_{s\in S}(d_{\pi_1}\pi_1\oplus\dots\oplus d_{\pi_r}\pi_r)(s)= d_{\pi_1}M_{\pi_1}\oplus\dots\oplus d_{\pi_r}M_{\pi_r}$, where $M_\pi=\sum_{s\in S}\pi(s)$ and $\hat{G}=\{\pi_1\dots\pi_r\}$.
\end{enumerate}
\end{rem}
Now we can finally give the main definition of this section.
\begin{defn}
The \emph{Fourier transform} of $f\colon G\rightarrow \C$ is
\begin{equation}
\label{def:foureir_transform}
\mathscr{F}f(\pi)=\hat{f}(\pi)=\sum_{g\in G} f(g)\pi(g).
\end{equation}
\end{defn}
\begin{rem}
Note first of all that$\hat{f}(\pi)$ is matrix valued (it is a $d_\pi\times d_\pi$ matrix). Moreover the Fourier transform  defined  above is not consistent with the definition given for abelian groups in chapter 2 of \cite{terras_1999}. To make the two definition agree we should replace $\pi(g)$ with $\pi(g^{-1})$ in \eqref{def:foureir_transform}, but it is more convenient for computations to use this  definition.
\end{rem}
All the results about the Fourier transform on abelian groups, still hold in this context. We collect the most significant facts about Fourier transform on a finite group in the following theorem (for a proof, see \cite{terras_1999}).
\begin{theorem}~
\begin{enumerate}
\item \textbf{Peter-Weyl Theorem.} Let
\[\hat{G}=\{\text{inequivalent irreducible unitary representation $\pi$ of $G$}\}.\]
The matrix entries of representations $\pi\in\hat{G}$ form a complete orthogonal set in $\LL^2(G)$.
\item \textbf{Plancherel Theorem.} For all $f,g\in \LL^2(G)$, we have the standard inner product
\[
\braket{f,\,g}=\sum_{x\in G}f(x)\overline{g(x)}.
\]
Then, defining ${\norm f}_2^2=\braket{f,\, f},$ we have 
\[
{\norm f}_2^2={\abs G}^{-1} \sum_{\substack{\pi \in \hat{G} \\1\leq i,j\leq d_\pi}}d_\pi \abs{\braket{f,\pi_{i,j}}}^2.
\]
\item \textbf{Fourier Inversion.} For all $f\in \LL^2(G)$, we have
\[
f(x)=\abs{G}^{-1}\sum_{\substack{\pi \in \hat{G} \\1\leq i,j\leq d_\pi }}d_\pi\braket{f,\pi_{i,j}}\pi_{i,j}(x).
\]
\item \textbf{Convolution Property of Fourier Transform on G.} For all $f,g\colon G\rightarrow \C$ we have
\[
\mathscr{F}(f*g)(\pi)=\mathscr{F}f(\pi)\cdot \mathscr{F}g(\pi).
\]
\item \textbf{  Fourier Transform changes left regular representation to multiplication by $\pi$.} For $f\in \LL^2(G)$, define $[L(g)f](x)=f(g^{-1}x)=f^g(x)$, if $x,g\in G$. Then we have 
\[
\mathscr{F}[f^g](\pi)=\pi(g)\mathscr{F}f(\pi), \text{ for all $\pi \in \hat{G}$}
\]  
\item $\abs{\hat{G}}$ equals the number of conjugacy classes in $G$.
%\item \textbf{Explicit Similarity Transform} Using the appropriate basis, $\mathscr{F}\circ L(g)\circ \mathscr{F}^{-1}$ is a block diagonal matrix with diagonal blocks given by the $\pi(g)$ each listed $d_\pi$ times for $\pi \in \hat{G}$.
\end{enumerate}
\end{theorem}
\subsection{ Irreducible Representations of the Affine Group.}
Now we want to give some partial result about representations of the affine group over $\F_q$ defined in \eqref{def:aff_group}, which are needed in the next section. In particular we are interested in the one-dimensional representations of $\Aff(q)$. Since explaining all the details would require to write another 20 pages-report we'll just state the result we need later. If you are curious, see \cite[Chapters~16-17]{terras_1999}.
\begin{theorem}
A complete  list  of  the representations  in $\hat{G}$, for $G=\Aff(q)$, is  given  by the two types  of representations  below.
\begin{enumerate}
\item The one-dimensional representations have the form
\[
\widetilde{\chi}
\begin{pmatrix}
y &x\\
0 &1
\end{pmatrix}
=\chi(y),
\]
where $\chi$ is a character of the multiplicative group of $\F_q$
\item The ($q-1$)-dimensional  irreducible unitary representation, which we do not describe here.
\end{enumerate}

\end{theorem}
Now we want to use the previous theorem to compute the adjacency operator of  the Cayley graph $X(G,S)$, where $G=\Aff(q)$ and $S$ is a symmetric set of generators of $G$.

We know by the remark after lemma \ref{lemma:lrr} that the  adjacency operator of $X(G,S)$ is a sum  of right regular representations $R$ of $G$:
\[
\A f = \sum_{s\in S}R(s)f 
\]
Then part 2. of lemma \ref{lemma:lrr}, diagonalizes the right regular representation and finally, we can use the previous theorem to conclude that $A$ is similar to a block diagonal matrix
\[
A\cong \begin{pmatrix}
R &0 \\
0 &\widetilde{M}
\end{pmatrix}
\] 
where $R$ is $q\times q$ diagonal matrix with diagonal entries indexed  by  the  1-dimensional representations  of $\Aff(q)$ coming  from  characters $\chi$  of the multiplicative group $\F_q^{*}$. The corresponding  diagonal entry  of $R$ is 
\[
R_\chi=\sum_{\bigl(\begin{smallmatrix}
y &x\\
0 &1
\end{smallmatrix}\bigr) \in S }\chi(y).
\]
While $\widetilde{M}$   is a block diagonal matrix with $q-1$ identical blocks, each block given by
\[
M_\pi=\sum_{s\in S}\pi(s).
\]
Here $\pi$ is the $(q-1)$-dimensional representation of $\Aff(q)$.